jQuery.fn.exists=function(callback){var args=[].slice.call(arguments,1);if(this.length){callback.call(this,args);}
return this;};jQuery(document).ready(function($){if(mts_customscript.nav_menu=='both'){$('#navigation').not('.mobile-menu-wrapper').find('.menu').clone().appendTo('.mobile-menu-wrapper').hide();}
$('.toggle-mobile-menu').click(function(e){e.preventDefault();e.stopPropagation();$('body').toggleClass('mobile-menu-active');});$(document).on('DOMMouseScroll mousewheel','.mobile-menu-wrapper',function(ev){var $this=$(this),scrollTop=this.scrollTop,scrollHeight=this.scrollHeight,height=$this.height(),delta=(ev.type=='DOMMouseScroll'?ev.originalEvent.detail*-40:ev.originalEvent.wheelDelta),up=delta>0;var prevent=function(){ev.stopPropagation();ev.preventDefault();ev.returnValue=false;return false;}
if($('a#pull').css('display')!=='none'){if(!up&&-delta>scrollHeight-height-scrollTop){$this.scrollTop(scrollHeight);return prevent();}else if(up&&delta>scrollTop){$this.scrollTop(0);return prevent();}}});}).on('click',function(event){var $target=jQuery(event.target);if(($target.hasClass("fa")&&$target.parent().hasClass("toggle-caret"))||$target.hasClass("toggle-caret")){return;}
jQuery('body').removeClass('mobile-menu-active');});jQuery(document).ready(function($){$('.widget_nav_menu, #navigation .menu').addClass('toggle-menu');$('.toggle-menu ul.sub-menu, .toggle-menu ul.children').addClass('toggle-submenu');$('.toggle-menu ul.sub-menu').parent().addClass('toggle-menu-item-parent');$('.toggle-menu .toggle-menu-item-parent').append('<span class="toggle-caret">&#43;</span>');$('.toggle-caret').click(function(e){e.preventDefault();$(this).parent().toggleClass('active').children('.toggle-submenu').slideToggle('fast');});});jQuery(document).ready(function($){(function(d,s){var js,fjs=d.getElementsByTagName(s)[0],load=function(url,id){if(d.getElementById(id)){return;}
js=d.createElement(s);js.src=url;js.id=id;fjs.parentNode.insertBefore(js,fjs);};jQuery('span.facebookbtn, .facebook_like, .shareicon.facebook').exists(function(){load('//connect.facebook.net/en_US/all.js#xfbml=1','fbjssdk');});jQuery('span.gplusbtn, .shareicon.google').exists(function(){load('https://apis.google.com/js/plusone.js','gplus1js');});jQuery('span.twitterbtn, .shareicon.twitter').exists(function(){load('//platform.twitter.com/widgets.js','tweetjs');});jQuery('span.linkedinbtn, .shareicon.linkedin').exists(function(){load('//platform.linkedin.com/in.js','linkedinjs');});jQuery('span.bufferapp').exists(function(){load('//d389zggrogs7qo.cloudfront.net/js/button.js','bufferappjs');});jQuery('span.stumblebtn').exists(function(){load('//platform.stumbleupon.com/1/widgets.js','stumbleuponjs');});}(document,'script'));});jQuery(document).ready(function($){var lazyloadAvatar=function(){$('.comment-author .avatar').each(function(){var distanceToTop=$(this).offset().top;var scroll=$(window).scrollTop();var windowHeight=$(window).height();var isVisible=distanceToTop-scroll<windowHeight;if(isVisible){var hashedUrl=$(this).attr('data-src');if(hashedUrl){$(this).attr('src',hashedUrl).removeClass('loading');}}});};if($('.comment-author .avatar').length>0){$('.comment-author .avatar').each(function(i,el){$(el).attr('data-src',el.src).removeAttr('src').addClass('loading');});$(function(){$(window).scroll(function(){lazyloadAvatar();});});lazyloadAvatar();}});jQuery(document).ready(function($){if($('.shareit').length){var $sharebar=$('.shareit');var $catcher=$sharebar.prev('#shareit-catcher');var sharebar_sticky=false;$(window).scroll(function(){var distanceToTop=$catcher.offset().top;var scroll=$(window).scrollTop();var isOnTop=distanceToTop-scroll<=0;var $content=$('#content_box');var tooLow=$content.offset().top+$content.height()-$sharebar.outerHeight();if(isOnTop&&scroll<tooLow){if(!sharebar_sticky){$catcher.height($sharebar.outerHeight(true));$sharebar.addClass('sticky-sharebar');sharebar_sticky=true;}
$sharebar.css({'position':'absolute','top':scroll-distanceToTop});}else{$sharebar.removeClass('sticky-sharebar').css({'position':'relative','top':''});$catcher.height(0);sharebar_sticky=false;}});$(window).resize(function(){var distanceToTop=$catcher.offset().top;var scroll=$(window).scrollTop();var isOnTop=distanceToTop-scroll<=0;var $content=$('#content_box');var tooLow=$content.offset().top+$content.height()-$sharebar.outerHeight();if(isOnTop&&scroll<tooLow){$sharebar.css({'position':'absolute','top':scroll-distanceToTop});if(!sharebar_sticky){$catcher.height($sharebar.outerHeight(true));$sharebar.addClass('sticky-sharebar');sharebar_sticky=true;}}else{$sharebar.removeClass('sticky-sharebar').css({'position':'relative','top':''});$catcher.height(0);sharebar_sticky=false;}});}});function wpSpoilerToggle(e,t,n,r){if(e.style.display!="none"){e.style.display="none";t.innerHTML=n;t.className="spoiler_link_show"}else{e.style.display="block";t.innerHTML=r;t.className="spoiler_link_hide"}}
(function(e){e.fn.hoverIntent=function(t,n){var r={sensitivity:7,interval:100,timeout:0};r=e.extend(r,n?{over:t,out:n}:t);var i,s,o,u;var a=function(e){i=e.pageX;s=e.pageY};var f=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(o-i)+Math.abs(u-s)<r.sensitivity){e(n).unbind("mousemove",a);n.hoverIntent_s=1;return r.over.apply(n,[t])}else{o=i;u=s;n.hoverIntent_t=setTimeout(function(){f(t,n)},r.interval)}};var l=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return r.out.apply(t,[e])};var c=function(t){var n=(t.type=="mouseover"?t.fromElement:t.toElement)||t.relatedTarget;while(n&&n!=this){try{n=n.parentNode}catch(t){n=this}}
if(n==this){return false}
var i=jQuery.extend({},t);var s=this;if(s.hoverIntent_t){s.hoverIntent_t=clearTimeout(s.hoverIntent_t)}
if(t.type=="mouseover"){o=i.pageX;u=i.pageY;e(s).bind("mousemove",a);if(s.hoverIntent_s!=1){s.hoverIntent_t=setTimeout(function(){f(i,s)},r.interval)}}else{e(s).unbind("mousemove",a);if(s.hoverIntent_s==1){s.hoverIntent_t=setTimeout(function(){l(i,s)},r.timeout)}}};return this.mouseover(c).mouseout(c)}})(jQuery);(function(e){e.fn.superfish=function(t){var n=e.fn.superfish,r=n.c,i=e(['<span class="',r.arrowClass,'"> &#187;</span>'].join("")),s=function(){var t=e(this),n=u(t);clearTimeout(n.sfTimer);t.showSuperfishUl().siblings().hideSuperfishUl()},o=function(){var t=e(this),r=u(t),i=n.op;clearTimeout(r.sfTimer);r.sfTimer=setTimeout(function(){i.retainPath=e.inArray(t[0],i.$path)>-1;t.hideSuperfishUl();if(i.$path.length&&t.parents(["li.",i.hoverClass].join("")).length<1){s.call(i.$path)}},i.delay)},u=function(e){var t=e.parents(["ul.",r.menuClass,":first"].join(""))[0];n.op=n.o[t.serial];return t},a=function(e){e.addClass(r.anchorClass).append(i.clone())};return this.each(function(){var i=this.serial=n.o.length;var u=e.extend({},n.defaults,t);u.$path=e("li."+u.pathClass,this).slice(0,u.pathLevels).each(function(){e(this).addClass([u.hoverClass,r.bcClass].join(" ")).filter("li:has(ul)").removeClass(u.pathClass)});n.o[i]=n.op=u;e("li:has(ul)",this)[e.fn.hoverIntent&&!u.disableHI?"hoverIntent":"hover"](s,o).each(function(){if(u.autoArrows)a(e(">a:first-child",this))}).not("."+r.bcClass).hideSuperfishUl();var f=e("a",this);f.each(function(e){var t=f.eq(e).parents("li");f.eq(e).focus(function(){s.call(t)}).blur(function(){o.call(t)})});u.onInit.call(this)}).each(function(){var t=[r.menuClass];if(n.op.dropShadows&&!(e.browser.msie&&e.browser.version<7))t.push(r.shadowClass);e(this).addClass(t.join(" "))})};var t=e.fn.superfish;t.o=[];t.op={};t.IE7fix=function(){var n=t.op;if(e.browser.msie&&e.browser.version>6&&n.dropShadows&&n.animation.opacity!=undefined)this.toggleClass(t.c.shadowClass+"-off")};t.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};t.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};e.fn.extend({hideSuperfishUl:function(){var n=t.op,r=n.retainPath===true?n.$path:"";n.retainPath=false;var i=e(["li.",n.hoverClass].join(""),this).add(this).not(r).removeClass(n.hoverClass).find(">ul").hide().css("visibility","hidden");n.onHide.call(i);return this},showSuperfishUl:function(){var e=t.op,n=t.c.shadowClass+"-off",r=this.addClass(e.hoverClass).find(">ul:hidden").css("visibility","visible");t.IE7fix.call(r);e.onBeforeShow.call(r);r.animate(e.animation,e.speed,function(){t.IE7fix.call(r);e.onShow.call(r)});return this}})})(jQuery);jQuery(document).ready(function(){jQuery("ul.sf-menu").superfish({autoArrows:false,delay:400,animation:{opacity:"show",height:"show"},speed:"fast",autoArrows:false,dropShadows:false})})